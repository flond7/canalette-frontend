<!-- bill functions  -->
<!-- <div class="row justify-content-end my-2">
  <button class="btn btn-secondary" (click)="generateBillNumbers()">Crea numerazione</button>
</div> -->

<div class="">

  <!-- headers -->
  <div class="row align-items-center justify-content-start border-bottom-gray text-primary pb-2">
    <div *ngIf="listOfColumns.year" class="col-1">Anno</div>
    <div *ngIf="listOfColumns.first_name" class="col-2">Nome e Cognome</div>
    <div *ngIf="listOfColumns.drain" class="col-1">Canaletta</div>
    <!-- <div *ngIf="listOfColumns.paid" class="col-1">Pagato</div> -->
    <div *ngIf="listOfColumns.amount_computed" class="col-2">Importo fattura</div>
    <div *ngIf="listOfColumns.amount_paid" class="col-2">Importo pagato</div>
    <div *ngIf="listOfColumns.bill_number" class="col-2">NÂ° fatt</div>
    <div *ngIf="listOfColumns.amount" class="col-1"></div>
  </div>

  <div *ngIf="noData == true">
    Non ci sono dati
  </div>
  
  <div *ngIf="noData == false">  
    <!-- rows -->
    <app-db-row *ngFor="let row of data; index as i" [data]=row [listOfColumns]=listOfColumns (rowChanged)="rowChanged($event)" (rowDeleted)="rowDeleted($event)" (billNumber)="addedBillNumber($event, i)"></app-db-row>
    <!-- totals -->
    <div *ngIf="data !== undefined" class="row align-items-center justify-content-end pt-4">
      <div class="col-2 d-flex justify-content-end">Assegnate:<span class="text-primary font-bold ml-2">{{this.data.length}}</span></div>
      <div class="col-2 d-flex justify-content-end">Pagate:<span class="text-primary font-bold ml-2">{{this.paidDrains}}</span></div>
      <div class="col-3 d-flex justify-content-end">Ancora da pagare:<span class="text-primary font-bold ml-2">{{this.data.length - this.paidDrains}}</span></div>
    </div>
  </div>

  <div class="row align-items-center justify-content-end pt-4">
    <div class="col-10">
      <!-- warning -->
      <div *ngIf="showAlert === true" class="alert alert-danger m-0"><fa-icon [icon]="faExclamationTriangle" class="mr-3"></fa-icon>Alcuni valori sono stati modificati, ricordati di salvare</div> 
   </div>
   <div class="col-2">
      <button class="btn btn-secondary w-100 my-2">Salva</button> 
   </div>
  </div>
  
</div>